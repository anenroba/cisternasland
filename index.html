<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cisternas 2039 - La Serena</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        /* Definición de variables CSS para la paleta de colores cobrizos */
        :root {
            /* Colores claros (Light Mode) */
            --color-bg-light: #F8F5EE; /* Fondo general */
            --color-header-footer-light: #EAE0D4; /* Encabezado y pie de página */
            --color-text-dark: #3A2B20; /* Texto oscuro */
            --color-button-inactive-bg-light: #D4C4B3; /* Botón inactivo */
            --color-button-active-bg-light: #B87333; /* Botón activo */
            --color-button-active-text-light: #FFFFFF; /* Texto botón activo */
            --color-button-inactive-text-light: #3A2B20; /* Texto botón inactivo */
            --color-card-bg-light: #FFFFFF; /* Fondo de tarjeta de producto */
            --color-border-light: #DDD0C0; /* Bordes ligeros */
            --color-icon-light: #8A7B6F; /* Iconos en modo claro */
        }

        /* Colores oscuros (Dark Mode) */
        .dark {
            --color-bg-light: #2C2620; /* Fondo general */
            --color-header-footer-light: #3A332B; /* Encabezado y pie de página */
            --color-text-dark: #F8F5EE; /* Texto claro */
            --color-button-inactive-bg-light: #5C4E42; /* Botón inactivo */
            --color-button-active-bg-light: #D48C4F; /* Botón activo */
            --color-button-active-text-light: #2C2620; /* Texto botón activo */
            --color-button-inactive-text-light: #F8F5EE; /* Texto botón inactivo */
            --color-card-bg-light: #3A332B; /* Fondo de tarjeta de producto */
            --color-border-light: #4F443A; /* Bordes oscuros */
            --color-icon-light: #D4C4B3; /* Iconos en modo oscuro */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-bg-light);
            transition: background-color 0.3s ease; /* Smooth transition for dark mode */
            margin: 0; /* Remove default body margin */
            padding: 0; /* Remove default body padding */
        }
        .header {
            background-color: var(--color-header-footer-light);
            padding: 1rem;
            display: flex;
            justify-content: center; /* Center the title */
            align-items: center;
            border-bottom: 1px solid var(--color-border-light);
            transition: background-color 0.3s ease, border-color 0.3s ease;
            position: sticky; /* Fixed on scroll */
            top: 0;
            z-index: 20; /* Ensure it's above other elements */
            width: 100%; /* Ensure it spans full viewport width */
            box-sizing: border-box; /* Include padding in width */
        }
        .category-bar {
            background-color: var(--color-card-bg-light); /* Background of category bar */
            border-bottom: 1px solid var(--color-border-light);
            transition: background-color 0.3s ease, border-color 0.3s ease;
            position: sticky; /* Fixed on scroll */
            /* top will be set dynamically with JS */
            z-index: 10; /* Ensure it's above products */
            padding: 1rem;
            display: flex;
            align-items: center; /* Vertically center flex items */
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch; /* For smoother scrolling on iOS */
            scrollbar-width: none; /* Hide scrollbar for Firefox */
            -ms-overflow-style: none;  /* Hide scrollbar for IE and Edge */
            width: 100%; /* Ensure it spans full viewport width */
            box-sizing: border-box; /* Include padding in width */
        }
        .category-bar::-webkit-scrollbar {
            display: none; /* Hide scrollbar for Chrome, Safari and Opera */
        }
        .container {
            background-color: var(--color-card-bg-light); /* Use card background color for main content area */
            border-radius: 1.5rem; /* rounded-3xl */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 420px; /* Mobile-like width */
            margin: 20px auto; /* Centered with top/bottom margin */
            /* padding-top will be set dynamically by JS to account for sticky header/category bar */
        }
        .category-button {
            padding: 0.75rem 1.25rem;
            border-radius: 9999px; /* rounded-full */
            font-weight: 600;
            color: var(--color-button-inactive-text-light);
            background-color: var(--color-button-inactive-bg-light);
            transition: all 0.2s ease-in-out;
            margin-right: 0.75rem; /* Space between buttons */
            flex-shrink: 0; /* Ensure buttons don't shrink */
            display: flex;
            align-items: center;
            justify-content: center;
            height: 40px; /* Explicit height for consistent sizing */
        }
        .category-button:last-child {
            margin-right: 0; /* Remove margin from last button */
        }
        .category-button.active {
            background-color: var(--color-button-active-bg-light);
            color: var(--color-button-active-text-light);
        }
        /* Remove default outline and box-shadow on focus */
        .category-button:focus {
            outline: none;
            box-shadow: none;
        }
        .category-section {
            padding: 1rem; /* Padding for each category section */
        }
        .product-card {
            display: flex;
            align-items: center;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: var(--color-card-bg-light); /* Corrected: Use card background color for product cards */
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
        .product-image {
            width: 80px;
            height: 80px;
            border-radius: 0.5rem; /* rounded-lg */
            object-fit: cover;
            margin-right: 1rem;
        }
        .header span, h2, h3, p {
            color: var(--color-text-dark);
            transition: color 0.3s ease;
        }
    </style>
</head>
<body class="light">
    <!-- Encabezado de la aplicación -->
    <div class="header" id="header">
        <span class="font-semibold">Cisternas 2039 - La Serena</span>
    </div>

    <!-- Barra de categorías deslizante -->
    <div class="category-bar" id="categoryBar">
        <button class="category-button active" data-category="entradas">Entradas</button>
        <button class="category-button" data-category="platos-fuertes">Platos Fuertes</button>
        <button class="category-button" data-category="postres">Postres</button>
        <button class="category-button" data-category="bebidas">Bebidas</button>
    </div>

    <div class="container" id="mainContainer">
        <!-- Contenido principal de productos (todas las categorías) -->
        <div class="content-sections">
            <!-- Las secciones de categoría y productos se cargarán aquí dinámicamente -->
        </div>
    </div>

    <script>
        // Datos de productos organizados por categoría
        const productsData = {
            "entradas": [
                {
                    name: "Ensalada Fresca",
                    description: "Mix de lechugas, tomate cherry y aderezo de la casa.",
                    price: "$5.500",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Ensalada"
                },
                {
                    name: "Sopa del Día",
                    description: "Sopa cremosa de vegetales de temporada.",
                    price: "$4.800",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Sopa"
                },
                {
                    name: "Bruschetta de Tomate",
                    description: "Pan tostado con tomate fresco, albahaca y aceite de oliva.",
                    price: "$6.200",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Bruschetta"
                },
                {
                    name: "Croquetas de Queso",
                    description: "Deliciosas croquetas caseras de queso.",
                    price: "$5.000",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Croquetas"
                },
                {
                    name: "Patatas Bravas",
                    description: "Patatas fritas con salsa brava picante.",
                    price: "$4.500",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Patatas"
                },
                {
                    name: "Tabla de Quesos",
                    description: "Selección de quesos artesanales con frutos secos.",
                    price: "$9.000",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Quesos"
                }
            ],
            "platos-fuertes": [
                {
                    name: "Salmón a la Plancha",
                    description: "Salmón fresco con vegetales al vapor.",
                    price: "$15.000",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Salmón"
                },
                {
                    name: "Lomo Saltado",
                    description: "Clásico peruano con carne, papas y cebolla.",
                    price: "$12.500",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Lomo"
                },
                {
                    name: "Pasta Carbonara",
                    description: "Pasta fresca con salsa cremosa, huevo y panceta.",
                    price: "$10.800",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Pasta"
                },
                {
                    name: "Hamburguesa Clásica",
                    description: "Carne de res, queso, lechuga, tomate y papas fritas.",
                    price: "$9.500",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Hamburguesa"
                },
                {
                    name: "Risotto de Champiñones",
                    description: "Arroz cremoso con champiñones frescos y parmesano.",
                    price: "$11.500",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Risotto"
                },
                {
                    name: "Pechuga de Pollo Grillada",
                    description: "Pechuga de pollo a la parrilla con puré de patatas.",
                    price: "$10.000",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Pollo"
                }
            ],
            "postres": [
                {
                    name: "Tiramisú",
                    description: "Postre italiano con café y mascarpone.",
                    price: "$6.000",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Tiramisú"
                },
                {
                    name: "Cheesecake de Frutos Rojos",
                    description: "Tarta de queso con salsa de frutos rojos.",
                    price: "$5.800",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Cheesecake"
                },
                {
                    name: "Brownie con Helado",
                    description: "Brownie de chocolate caliente con una bola de helado de vainilla.",
                    price: "$5.200",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Brownie"
                },
                {
                    name: "Fruta Fresca",
                    description: "Selección de frutas de temporada.",
                    price: "$3.500",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Fruta"
                },
                {
                    name: "Volcán de Chocolate",
                    description: "Bizcocho de chocolate con centro líquido y helado.",
                    price: "$6.500",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Volcán"
                },
                {
                    name: "Panna Cotta",
                    description: "Postre cremoso italiano con coulis de fresa.",
                    price: "$5.000",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Panna"
                }
            ],
            "bebidas": [
                {
                    name: "Agua Mineral",
                    description: "Agua mineral con o sin gas.",
                    price: "$2.000",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Agua"
                },
                {
                    name: "Refresco",
                    description: "Variedad de refrescos (Coca-Cola, Sprite, Fanta).",
                    price: "$2.500",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Refresco"
                },
                {
                    name: "Jugo Natural",
                    description: "Jugo de naranja, piña o maracuyá.",
                    price: "$3.000",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Jugo"
                },
                {
                    name: "Café Americano",
                    description: "Café recién hecho.",
                    price: "$2.800",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Café"
                },
                {
                    name: "Cerveza Artesanal",
                    description: "Selección de cervezas artesanales locales.",
                    price: "$4.000",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Cerveza"
                },
                {
                    name: "Vino de la Casa",
                    description: "Copa de vino tinto o blanco de la casa.",
                    price: "$3.500",
                    image: "https://placehold.co/80x80/e0e0e0/333333?text=Vino"
                }
            ]
        };

        const categoryButtons = document.querySelectorAll('.category-button');
        const contentSectionsContainer = document.querySelector('.content-sections');
        const headerElement = document.getElementById('header');
        const categoryBarElement = document.getElementById('categoryBar');
        const mainContainer = document.getElementById('mainContainer');

        // Función para renderizar todas las categorías y sus productos
        function renderAllCategories() {
            contentSectionsContainer.innerHTML = ''; // Limpiar contenido existente

            for (const categoryKey in productsData) {
                const categoryName = categoryKey.charAt(0).toUpperCase() + categoryKey.slice(1).replace('-', ' ');
                const products = productsData[categoryKey];

                const section = document.createElement('section');
                section.id = `category-${categoryKey}`; // ID para el anclaje
                section.className = 'category-section'; // Clase para estilos de sección

                const title = document.createElement('h2');
                title.className = 'text-2xl font-bold mb-4';
                title.textContent = categoryName;
                section.appendChild(title);

                const productListDiv = document.createElement('div');
                productListDiv.className = 'product-list';

                products.forEach(product => {
                    const productCard = document.createElement('div');
                    productCard.className = 'product-card';
                    productCard.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="product-image">
                        <div>
                            <h3 class="text-lg font-semibold">${product.name}</h3>
                            <p class="text-sm mb-1">${product.description}</p>
                            <p class="text-md font-bold">${product.price}</p>
                        </div>
                    `;
                    productListDiv.appendChild(productCard);
                });
                section.appendChild(productListDiv);
                contentSectionsContainer.appendChild(section);
            }
        }

        // Añadir event listeners a los botones de categoría para smooth scroll
        categoryButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Remover la clase 'active' de todos los botones
                categoryButtons.forEach(btn => btn.classList.remove('active'));
                // Añadir la clase 'active' al botón clickeado
                button.classList.add('active');

                const targetId = `category-${button.dataset.category}`;
                const targetElement = document.getElementById(targetId);

                if (targetElement) {
                    // Calcular la altura total de los elementos sticky
                    const headerHeight = headerElement.offsetHeight;
                    const categoryBarHeight = categoryBarElement.offsetHeight;
                    const offset = headerHeight + categoryBarHeight;

                    // Desplazarse a la posición, ajustando por la altura de los elementos sticky
                    window.scrollTo({
                        top: targetElement.offsetTop - offset,
                        behavior: "smooth"
                    });
                }
            });
        });

        // Función para ajustar el padding-top del mainContainer y la posición de la categoryBar
        function adjustLayout() {
            const headerHeight = headerElement.offsetHeight;
            const categoryBarHeight = categoryBarElement.offsetHeight;
            
            // Ajustar el top de la barra de categorías
            categoryBarElement.style.top = `${headerHeight}px`;

            // Ajustar el padding-top del contenedor principal para que el contenido no quede oculto
            mainContainer.style.paddingTop = `${headerHeight + categoryBarHeight}px`;
        }

        // Cargar todas las categorías y productos al inicio y ajustar el layout
        window.addEventListener('load', () => {
            renderAllCategories();
            adjustLayout(); // Ajustar el layout al cargar completamente la página

            // Establecer el botón "Entradas" como activo por defecto
            const firstCategoryButton = document.querySelector('.category-button[data-category="entradas"]');
            if (firstCategoryButton) {
                firstCategoryButton.classList.add('active');
            }
        });

        // Ajustar el layout en caso de redimensionamiento de la ventana
        window.addEventListener('resize', adjustLayout);
    </script>
</body>
</html>
